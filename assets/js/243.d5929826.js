(window.webpackJsonp=window.webpackJsonp||[]).push([[243],{589:function(n,e,s){"use strict";s.r(e);var r=s(42),t=Object(r.a)({},(function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("p",[n._v("###过程顺序")]),n._v(" "),s("p",[n._v("在创建的vue-cli项目中我们仅仅只需要一行命令 npm run serve 整个程序就可以运行起来。 但是在这个过程中到底做了什么？对此做了一番探究")]),n._v(" "),s("h3",{attrs:{id:"类npm命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类npm命令"}},[n._v("#")]),n._v(" 类npm命令")]),n._v(" "),s("p",[n._v("开发中用到的命令一般最终都是通过命令指令符（cmd）来执行   那么npm 最终一定也是添加到path里了！\nnpm 的安装依赖于node的安装，安装nodejs时，为了使用node命令，我们会将nodejs的安装路径添加到path路径中，查看node的路径，我们可以看到一个npm.bat文件，这个npm.bat文件就是对应的npm命令。")]),n._v(" "),s("h5",{attrs:{id:"npm-run-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-run-命令"}},[n._v("#")]),n._v(" npm run 命令")]),n._v(" "),s("p",[n._v("通过visual studio进行调试跟踪，")]),n._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("//阅读规则：\n//xxx.js->(对应的js文件)\n//    xxxxxx(当前文件中对应的关键的代码点)\n//npm run server(vue-cli创建的项目)\nnpm-cli.js->\n   npm.load()\nnpm.js->\n   Object.defineProperty(npm.commands...\nrun-script.js->\n   function runScript (args, cb) {}(从函数的实现可以看到在该函数中读取了package.json配置文件)\n   run()\nchain.js->\n   func Loop(){} //可以看到\nindex.js->\n   func lifecycle(){}\n   function lifecycle_ (pkg, stage, wd, opts, env, cb){}\n   function runPackageLifecycle (pkg, env, wd, opts, cb){}\n   function runCmd (note, cmd, pkg, env, stage, wd, opts, cb){}\n   function runCmd_{}\n")])])]),s("p",[n._v("通过跟踪，我们可以发现，npm run xxx实际上最终会转换为cmd运行相关的命令。最后的结果是：")]),n._v(" "),s("p",[n._v("npm run xxx\nxxx是从package.json的script中取出的对应命令。")]),n._v(" "),s("h5",{attrs:{id:"npm-run-serve"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-run-serve"}},[n._v("#")]),n._v(" npm run serve")]),n._v(" "),s("p",[n._v('通过npm run 命令的跟踪，最终发现指令转换为：cmd.exe vue-cli-service serve。但是，system path中并没有vue-cli-service对应的指令。实际上，nodejs运行cmd程序时，改变了程序运行时的path信息，添加了对应node_modules/.bin路径，我们在该路径下可以发现vue-cli-service.cmd文件，同时还发现了webpack等。打开vue-cli-service.cmd文件\n所以最终  node  "%~dp0..@vue\\cli-service\\bin\\vue-cli-service.js" %*   运行的是脚手架添加的vue-cli-service.js文件。npm run server => node vue-cli-service.js server')]),n._v(" "),s("h3",{attrs:{id:"项目启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目启动"}},[n._v("#")]),n._v(" 项目启动")]),n._v(" "),s("p",[n._v("vue-cli-service.js server  文件会帮助我们")])])}),[],!1,null,null,null);e.default=t.exports}}]);